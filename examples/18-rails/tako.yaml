# Ruby Sinatra Example
# Simple and elegant web framework

project:
  name: ruby-sinatra
  version: 1.0.0

servers:
  prod:
    host: ${SERVER_HOST}
    user: root
    sshKey: ~/.ssh/id_ed25519

environments:
  production:
    servers:
      - prod
    services:
      web:
        build: .
        port: 3000
        proxy:
          domains:
            - ruby.${SERVER_HOST}.sslip.io
          email: ${LETSENCRYPT_EMAIL}
        env:
          RACK_ENV: production
        healthCheck:
          path: /health
          interval: 30s
          timeout: 5s
          retries: 3
